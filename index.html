<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8, initial-scale=1.0" />  <meta charset="UTF-8" />
  <title>San Valentino</title>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: whitesmoke;
    }

    main { padding: 20px; }

    footer {
      text-align: center;
      padding: 10px;
      margin-top: 20px;
    }

    .card {
      background: pink;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      max-width: 420px;
      margin: 20px auto;
      text-align: center;
    }

    .card img {
      width: 100%;
      border-radius: 10px;
      margin-bottom: 15px;
    }

    .button-container {
      position: relative;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      min-height: 56px;
    }

    .btn {
      padding: 12px 20px;
      font-size: 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      color: white;
    }

    .btn1 { background-color: green; }
    .btn2 { background-color: red; position: relative; }

    .btn:hover { opacity: 0.9; }
  </style>
</head>

<body>

  <main>
    <div class="card">
      <h2>Vorresti essere la mia Valentina?</h2>
      <img src="rose.jpg" altass="button-container" id="box">
        <button class="btn btn1" id="yesBtn">Sì</button>
        <button class="btn btn2" id="noBtn">No</button>
      </div>
    </div>
  </main>

  <footer>
    P.S. mi manchi, speriamo tu abbia detto sì
  </footer>


  <script>
    // ----------------------------
    // 1) nuova pagina generata al volo con Blob (SICURA)
    // ----------------------------
    document.getElementById("yesBtn").addEventListener("click", () => {

      const paginaHTML = `
<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SIIIIIII</title>
<style>
  body {
    margin: 0;
    min-height: 100vh;
    display: grid;
    place-items: center;
    font-family: Arial, sans-serif;
    background: radial-gradient(circle, #ffffff, #ffe6f2 60%, #ffccdd);
    overflow: hidden;
  }
  .box {
    background: white;
    padding: 25px 30px;
    border-radius: 15px;
    text-align: center;
    box-shadow: 0 10px 25px rgba(0,0,0,0.1);
  }
  h1 {
    font-size: 40px;
    color: #d6006f;
    margin: 0 0 10px;
  }
  .heart {
    position: fixed;
    top: -20px;
    color: red;
    font-size: 20px;
    animation: fall 3s linear forwards;
    pointer-events: none;
  }
  @keyframes fall {
    to { transform: translateY(110vh) rotate(360deg); opacity: 0; }
  }
</style>
</head>
<body>

  <div class="box">
    <h1>SIIIIIII ❤️</h1>
    </div>
     
    <script>    
    function creaCuoricino() {
      const cuore = document.createElement("div");
      cuore.className = "heart";
      cuore.textContent = "❤️";
      cuore.style.left = Math.random() * 100 + "vw";
      cuore.style.fontSize = (20 + Math.random() * 40) + "px";
      document.body.appendChild(cuore);
      setTimeout(() => cuore.remove(), 3000);
    }
    setInterval(creaCuoricino, 200);
  <\/script>

</body>
</html>
`;

      const blob = new Blob([paginaHTML], { type: "text/html" });
      const url = URL.createObjectURL(blob);
      window.open(url, "_blank");
    });


    // ----------------------------
    // 2) bottone NO che scappa
    // ----------------------------
    const noBtn = document.getElementById("noBtn");
    const container = document.getElementById("box");

    let absolute = false;

    function enableAbsolute() {
      if (absolute) return;
      absolute = true;

      const btnRect = noBtn.getBoundingClientRect();
      const boxRect = container.getBoundingClientRect();

      noBtn.style.position = "absolute";
      noBtn.style.left = (btnRect.left - boxRect.left) + "px";
      noBtn.style.top  = (btnRect.top  - boxRect.top) + "px";
    }

    function scappa() {
      enableAbsolute();

      const boxRect = container.getBoundingClientRect();
      const maxX = boxRect.width - noBtn.offsetWidth;
      const maxY = boxRect.height - noBtn.offsetHeight;

      const x = Math.random() * maxX;
      const y = Math.random() * maxY;

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
    }

    noBtn.addEventListener("mouseenter", scappa);
    noBtn.addEventListener("mouseover", scappa);
  </script>

</body>
</html>